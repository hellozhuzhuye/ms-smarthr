(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-da446eba"],{"0aaf":function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[e._v("\n    综合信息统计\n")])},i=[],l={name:"StaAll"},r=l,s=a("5d22"),o=Object(s["a"])(r,n,i,!1,null,"02cf5296",null);t["default"]=o.exports},1937:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[e._v("\n    工资表查询\n")])},i=[],l={name:"SalSearch"},r=l,s=a("5d22"),o=Object(s["a"])(r,n,i,!1,null,"c59a687a",null);t["default"]=o.exports},"21c7":function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[e._v("\n    工资表管理\n")])},i=[],l={name:"SalTable"},r=l,s=a("5d22"),o=Object(s["a"])(r,n,i,!1,null,"fb56836a",null);t["default"]=o.exports},"2bc5":function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticStyle:{display:"flex","justify-content":"space-between"}},[a("el-button",{attrs:{icon:"el-icon-plus",type:"primary"},on:{click:e.showAddSalaryView}},[e._v("添加工资账套")]),a("el-button",{attrs:{icon:"el-icon-refresh",type:"success"},on:{click:e.initSalaries}})],1),a("div",{staticStyle:{"margin-top":"10px"}},[a("el-table",{attrs:{data:e.salaries,border:"",stripe:""}},[a("el-table-column",{attrs:{type:"selection",width:"55"}}),a("el-table-column",{attrs:{width:"120",prop:"name",label:"账套名称"}}),a("el-table-column",{attrs:{width:"70",prop:"basicSalary",label:"基本工资"}}),a("el-table-column",{attrs:{width:"70",prop:"trafficSalary",label:"交通补助"}}),a("el-table-column",{attrs:{width:"70",prop:"lunchSalary",label:"午餐补助"}}),a("el-table-column",{attrs:{width:"70",prop:"bonus",label:"奖金"}}),a("el-table-column",{attrs:{width:"100",prop:"createDate",label:"启用时间"}}),a("el-table-column",{attrs:{label:"养老金",align:"center"}},[a("el-table-column",{attrs:{width:"70",prop:"pensionPer",label:"比率"}}),a("el-table-column",{attrs:{width:"70",prop:"pensionBase",label:"基数"}})],1),a("el-table-column",{attrs:{label:"医疗保险",align:"center"}},[a("el-table-column",{attrs:{width:"70",prop:"medicalPer",label:"比率"}}),a("el-table-column",{attrs:{width:"70",prop:"medicalBase",label:"基数"}})],1),a("el-table-column",{attrs:{label:"公积金",align:"center"}},[a("el-table-column",{attrs:{width:"70",prop:"accumulationFundPer",label:"比率"}}),a("el-table-column",{attrs:{width:"70",prop:"accumulationFundBase",label:"基数"}})],1),a("el-table-column",{attrs:{label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{on:{click:function(a){return e.showEditSalaryView(t.row)}}},[e._v("编辑")]),a("el-button",{attrs:{type:"danger"},on:{click:function(a){return e.deleteSalary(t.row)}}},[e._v("删除")])]}}])})],1)],1),a("el-dialog",{attrs:{title:e.dialogTitle,visible:e.dialogVisible,width:"50%"},on:{"update:visible":function(t){e.dialogVisible=t}}},[a("div",{staticStyle:{display:"flex","justify-content":"space-around","align-items":"center"}},[a("el-steps",{attrs:{direction:"vertical",active:e.activeItemIndex}},e._l(e.salaryItemName,(function(e,t){return a("el-step",{key:t,attrs:{title:e}})})),1),e._l(e.salary,(function(t,n,i){return a("el-input",{directives:[{name:"show",rawName:"v-show",value:e.activeItemIndex==i,expression:"activeItemIndex==index"}],key:i,staticStyle:{width:"200px"},attrs:{placeholder:"请输入"+e.salaryItemName[i]+"..."},model:{value:e.salary[n],callback:function(t){e.$set(e.salary,n,t)},expression:"salary[title]"}})}))],2),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:e.preStep}},[e._v(e._s(10==e.activeItemIndex?"取消":"上一步"))]),a("el-button",{attrs:{type:"primary"},on:{click:e.nextStep}},[e._v(e._s(10==e.activeItemIndex?"完成":"下一步"))])],1)])],1)},i=[],l=(a("6a61"),a("2e91")),r=(a("a450"),{name:"SalSob",data:function(){return{dialogVisible:!1,dialogTitle:"添加工资账套",salaries:[],activeItemIndex:0,salaryItemName:["基本工资","交通补助","午餐补助","奖金","养老金比率","养老金基数","医疗保险比率","医疗保险基数","公积金比率","公积金基数","账套名称"],salary:{basicSalary:0,trafficSalary:0,lunchSalary:0,bonus:0,pensionPer:0,pensionBase:0,medicalPer:0,medicalBase:0,accumulationFundPer:0,accumulationFundBase:0,name:""}}},mounted:function(){this.initSalaries()},methods:{showEditSalaryView:function(e){this.dialogTitle="修改工资账套",this.dialogVisible=!0,this.salary.basicSalary=e.basicSalary,this.salary.trafficSalary=e.trafficSalary,this.salary.lunchSalary=e.lunchSalary,this.salary.bonus=e.bonus,this.salary.pensionPer=e.pensionPer,this.salary.pensionBase=e.pensionBase,this.salary.medicalPer=e.medicalPer,this.salary.medicalBase=e.medicalBase,this.salary.accumulationFundPer=e.accumulationFundPer,this.salary.accumulationFundBase=e.accumulationFundBase,this.salary.name=e.name,this.salary.id=e.id,this.activeItemIndex=0},deleteSalary:function(e){var t=this;this.$confirm("此操作将删除【"+e.name+"】账套，是否继续？","提示",{cancelButtonText:"取消",confirmButtonText:"确定"}).then((function(){t.deleteRequest("/salary/sob/"+e.id).then((function(e){e&&t.initSalaries()}))})).catch((function(){t.$message.info("取消删除!")})),this.activeItemIndex=0},preStep:function(){0!=this.activeItemIndex&&(10!=this.activeItemIndex?this.activeItemIndex--:this.dialogVisible=!1)},nextStep:function(){var e=this;if(10==this.activeItemIndex)return this.salary.id?this.putRequest("/salary/sob/",this.salary).then((function(t){t&&(e.initSalaries(),e.dialogVisible=!1)})):this.postRequest("/salary/sob/",this.salary).then((function(t){t&&(e.initSalaries(),e.dialogVisible=!1)})),void(this.activeItemIndex=0);this.activeItemIndex++},showAddSalaryView:function(){this.salary={basicSalary:0,trafficSalary:0,lunchSalary:0,bonus:0,pensionPer:0,pensionBase:0,medicalPer:0,medicalBase:0,accumulationFundPer:0,accumulationFundBase:0,name:"默认名称"},this.dialogTitle="添加工资账套",this.activeItemIndex=0,this.dialogVisible=!0},getSob:function(){var e=this;return new Promise((function(t,a){e.getRequest("/salary/sob/").then((function(e){t(e)})).catch((function(e){a(e)}))}))},initSalaries:function(){var e=Object(l["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.getSob();case 2:t=e.sent,this.salaries=t.obj;case 4:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()}}),s=r,o=a("5d22"),c=Object(o["a"])(s,n,i,!1,null,"9da7e0ee",null);t["default"]=c.exports},"44f3":function(e,t,a){},"5a4a":function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[e._v("\n    员工调薪\n")])},i=[],l={name:"PerSalary"},r=l,s=a("5d22"),o=Object(s["a"])(r,n,i,!1,null,"66b692d8",null);t["default"]=o.exports},"61a8":function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement;e._self._c;return e._m(0)},i=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("h1",[e._v("Minio纠删码快速入门 "),a("a",{attrs:{href:"https://slack.min.io"}},[a("img",{attrs:{src:"https://slack.min.io/slack?type=svg",alt:"Slack"}})])]),a("p",[e._v("Minio使用纠删码"),a("code",[e._v("erasure code")]),e._v("和"),a("code",[e._v("checksum")]),e._v("来保护数据免受硬件故障和无声数据损坏。 即便您丢失一半数量（N/2）的硬盘，您仍然可以恢复数据。")]),a("h2",[e._v("什么是纠删码"),a("code",[e._v("erasure code")]),e._v("?")]),a("p",[e._v("纠删码是一种恢复丢失和损坏数据的数学算法， Minio采用里德-所罗门码将对象分片为数据和奇偶校验块。 这就意味着如果是12块盘，一个对象可被分片的范围是：6个数据块和6个奇偶校验块 到 10个数据块和2个奇偶校验块之间。")]),a("p",[e._v("默认情况下, MinIO 将对象拆分成N/2数据和N/2 奇偶校验盘. 虽然你可以通过 "),a("a",{attrs:{href:"https://github.com/minio/minio/tree/master/docs/zh_CN/erasure/storage-class"}},[e._v("存储类型")]),e._v(" 自定义配置, 但是我们还是推荐N/2个数据和奇偶校验块, 因为它可以确保对硬盘故障提供最佳保护。")]),a("p",[e._v("比如上面12个盘的例子，通过默认配置运行MinIO服务的话，你可以丢失任意6块盘（不管其是存放的数据块还是奇偶校验块），你仍可以从剩下的盘中的数据进行恢复，是不是很NB，感兴趣的同学请翻墙google。")]),a("h2",[e._v("为什么纠删码有用?")]),a("p",[e._v("纠删码的工作原理和RAID或者复制不同，像RAID6可以在损失两块盘的情况下不丢数据，而Minio纠删码可以在丢失一半的盘的情况下，仍可以保证数据安全。 而且Minio纠删码是作用在对象级别，可以一次恢复一个对象，而RAID是作用在卷级别，数据恢复时间很长。 Minio对每个对象单独编码，存储服务一经部署，通常情况下是不需要更换硬盘或者修复。Minio纠删码的设计目标是为了性能和尽可能的使用硬件加速。\r\n\r\n  ")]),a("p",[e._v("位衰减又被称为数据腐化"),a("code",[e._v("Data Rot")]),e._v("、无声数据损坏"),a("code",[e._v("Silent Data Corruption")]),e._v(",是目前硬盘数据的一种严重数据丢失问题。硬盘上的数据可能会神不知鬼不觉就损坏了，也没有什么错误日志。正所谓明枪易躲，暗箭难防，这种背地里犯的错比硬盘直接咔咔宕了还危险。 不过不用怕，Minio纠删码采用了高速 "),a("a",{attrs:{href:"https://github.com/minio/highwayhash"}},[e._v("HighwayHash")]),e._v(" 基于哈希的校验和来防范位衰减。")]),a("h2",[e._v("驱动器（盘）如何使用纠删码?")]),a("p",[e._v("MinIO会把你提供的所有驱动器，按照"),a("em",[e._v("4 到 16")]),e._v("个一组划分为多个纠删码集合，因此，你提供的驱动器数量必须是以上这些数字(4到16)的倍数。每个对象都会被写入一个单独的纠删码集合中。")]),a("p",[e._v("Minio会尽可能使用最大的纠删码集合大小（EC set size）进行划分.比如 "),a("em",[e._v("18个盘")]),e._v("会被划分为2个纠删码集合，每个集合有9个盘；"),a("em",[e._v("24个盘")]),e._v("也会被划分为2个纠删码集合，每个集合有12个盘。对于将MinIO作为独立的纠删码部署运行的场景而言，这是正确的。然而，在 "),a("a",{attrs:{href:"https://docs.minio.io/cn/distributed-minio-quickstart-guide.html"}},[e._v("分布式部署")]),e._v(" 时，选择的是基于节点（亲和力）的纠删条带大小.")]),a("p",[e._v("驱动器的大小应当都差不多。")]),a("h2",[e._v("Minio纠删码快速入门")]),a("h3",[e._v("1. 前提条件:")]),a("p",[e._v("安装Minio- "),a("a",{attrs:{href:"https://docs.min.io/cn/minio-quickstart-guide"}},[e._v("Minio快速入门")])]),a("h3",[e._v("2. 以纠删码模式运行Minio")]),a("p",[e._v("示例: 使用Minio，在12个盘中启动Minio服务。")]),a("pre",{attrs:{lang:"sh"}},[a("code",[e._v("minio server /data{1...12}\r\n")])]),a("p",[e._v("示例: 使用Minio Docker镜像，在8块盘中启动Minio服务。")]),a("pre",{attrs:{lang:"sh"}},[a("code",[e._v("docker run -p 9000:9000 --name minio \\\r\n  -v /mnt/data1:/data1 \\\r\n  -v /mnt/data2:/data2 \\\r\n  -v /mnt/data3:/data3 \\\r\n  -v /mnt/data4:/data4 \\\r\n  -v /mnt/data5:/data5 \\\r\n  -v /mnt/data6:/data6 \\\r\n  -v /mnt/data7:/data7 \\\r\n  -v /mnt/data8:/data8 \\\r\n  minio/minio server /data{1...8}\r\n")])]),a("h3",[e._v("3. 验证是否设置成功")]),a("p",[e._v("你可以随意拔掉硬盘，看Minio是否可以正常读写。")])])}],l={name:"CloudPrivate"},r=l,s=a("5d22"),o=Object(s["a"])(r,n,i,!1,null,"2e789dd5",null);t["default"]=o.exports},"6ac9":function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",[a("div",{staticStyle:{display:"flex","justify-content":"space-between","margin-bottom":"10px"}},[a("div",[a("el-input",{staticStyle:{width:"350px","margin-right":"10px"},attrs:{placeholder:"请输入员工名进行搜索，可以直接回车搜索...","prefix-icon":"el-icon-search",clearable:""},on:{clear:e.initEmps},nativeOn:{keydown:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.initEmps(t)}},model:{value:e.keyword,callback:function(t){e.keyword=t},expression:"keyword"}}),a("el-button",{attrs:{icon:"el-icon-search",type:"primary"},on:{click:e.initEmps}},[e._v("\n            搜索\n          ")])],1)]),a("el-table",{attrs:{data:e.emps,border:"",stripe:"",size:"mini"}},[a("el-table-column",{attrs:{type:"selection",align:"left",width:"55"}}),a("el-table-column",{attrs:{prop:"name",label:"姓名",fixed:"",width:"120",align:"left"}}),a("el-table-column",{attrs:{prop:"workID",label:"工号",width:"120",align:"left"}}),a("el-table-column",{attrs:{prop:"email",label:"电子邮件",width:"200",align:"left"}}),a("el-table-column",{attrs:{prop:"phone",label:"电话号码",width:"120",align:"left"}}),a("el-table-column",{attrs:{prop:"department.name",label:"所属部门",width:"120",align:"left"}}),a("el-table-column",{attrs:{label:"工资账套",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[t.row.salary?a("el-tooltip",{attrs:{placement:"right"}},[a("div",{attrs:{slot:"content"},slot:"content"},[a("table",[a("tr",[a("td",[e._v("基本工资")]),a("td",[e._v(e._s(t.row.salary.basicSalary))])]),a("tr",[a("td",[e._v("交通补助")]),a("td",[e._v(e._s(t.row.salary.trafficSalary))])]),a("tr",[a("td",[e._v("午餐补助")]),a("td",[e._v(e._s(t.row.salary.lunchSalary))])]),a("tr",[a("td",[e._v("奖金")]),a("td",[e._v(e._s(t.row.salary.bonus))])]),a("tr",[a("td",[e._v("养老金比率")]),a("td",[e._v(e._s(t.row.salary.pensionPer))])]),a("tr",[a("td",[e._v("养老金基数")]),a("td",[e._v(e._s(t.row.salary.pensionBase))])]),a("tr",[a("td",[e._v("医疗保险比率")]),a("td",[e._v(e._s(t.row.salary.medicalPer))])]),a("tr",[a("td",[e._v("医疗保险基数")]),a("td",[e._v(e._s(t.row.salary.medicalBase))])]),a("tr",[a("td",[e._v("公积金比率")]),a("td",[e._v(e._s(t.row.salary.accumulationFundPer))])]),a("tr",[a("td",[e._v("公积金基数")]),a("td",[e._v(e._s(t.row.salary.accumulationFundBase))])]),a("tr",[a("td",[e._v("启用时间")]),a("td",[e._v(e._s(t.row.salary.createDate))])])])]),a("el-tag",[e._v(e._s(t.row.salary.name))])],1):a("el-tag",[e._v("暂未设置")])]}}])}),a("el-table-column",{attrs:{label:"操作",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-popover",{attrs:{placement:"left",title:"修改工资账套",width:"200",trigger:"click"},on:{show:function(a){return e.showPop(t.row.salary)},hide:function(a){return e.hidePop(t.row)}}},[a("div",[a("el-select",{attrs:{placeholder:"请选择",size:"mini"},model:{value:e.currentSalary,callback:function(t){e.currentSalary=t},expression:"currentSalary"}},e._l(e.salaries,(function(e){return a("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})})),1)],1),a("el-button",{attrs:{slot:"reference",type:"danger"},slot:"reference"},[e._v("修改工资账套")])],1)]}}])})],1),a("div",{staticStyle:{display:"flex","justify-content":"flex-end"}},[a("el-pagination",{attrs:{background:"",layout:"sizes, prev, pager, next, jumper, ->, total, slot",total:e.total},on:{"size-change":e.sizeChange,"current-change":e.currentChange}})],1)],1)])},i=[],l={name:"SalSobCfg",data:function(){return{keyword:"",emps:[],total:0,currentPage:1,currentSize:10,currentSalary:null,salaries:[]}},mounted:function(){this.initEmps(),this.initSalaries()},methods:{sizeChange:function(e){this.currentSize=e,this.initEmps()},currentChange:function(e){this.currentPage=e,this.initEmps()},hidePop:function(e){var t=this;this.currentSalary&&this.putRequest("/salary/sobcfg/?eid="+e.id+"&sid="+this.currentSalary).then((function(e){e&&t.initEmps()}))},showPop:function(e){this.currentSalary=e?e.id:null},initSalaries:function(){var e=this;this.getRequest("/salary/sobcfg/salaries").then((function(t){t&&(e.salaries=t)}))},initEmps:function(){var e=this;this.getRequest("/salary/sobcfg/?page="+this.currentPage+"&size="+this.currentSize+"&name="+this.keyword).then((function(t){t&&(e.emps=t.data,e.total=t.total)}))}}},r=l,s=a("5d22"),o=Object(s["a"])(r,n,i,!1,null,"16b664fc",null);t["default"]=o.exports},"6afa":function(e,t,a){"use strict";a("44f3")},"7fe5":function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[e._v("\n  员工考评\n")])},i=[],l={name:"PerEval"},r=l,s=a("5d22"),o=Object(s["a"])(r,n,i,!1,null,"1c23719c",null);t["default"]=o.exports},"83ed":function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[e._v("\n    员工培训\n")])},i=[],l={name:"PerTrain"},r=l,s=a("5d22"),o=Object(s["a"])(r,n,i,!1,null,"2e91290e",null);t["default"]=o.exports},a49a:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[e._v("\n    人事记录统计\n")])},i=[],l={name:"StaRecord"},r=l,s=a("5d22"),o=Object(s["a"])(r,n,i,!1,null,"801c4e42",null);t["default"]=o.exports},b419:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[e._v("\n    人事信息统计\n")])},i=[],l={name:"StaPers"},r=l,s=a("5d22"),o=Object(s["a"])(r,n,i,!1,null,"4380cdc8",null);t["default"]=o.exports},c1d3:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[e._v("\n    员工积分统计\n")])},i=[],l={name:"StaScore"},r=l,s=a("5d22"),o=Object(s["a"])(r,n,i,!1,null,"2d8ed549",null);t["default"]=o.exports},cfbb:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[e._v("\n    员工调动\n")])},i=[],l={name:"PerMv"},r=l,s=a("5d22"),o=Object(s["a"])(r,n,i,!1,null,"3ee77c14",null);t["default"]=o.exports},d9ac:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[e._v("\n    员工奖惩\n")])},i=[],l={name:"PerEc"},r=l,s=a("5d22"),o=Object(s["a"])(r,n,i,!1,null,"4b8a23b8",null);t["default"]=o.exports},e81b:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-button",{staticStyle:{"margin-top":"10px"},attrs:{type:"primary"},on:{click:function(t){e.dialogVisible=!0}}},[a("i",{staticClass:"el-icon-upload el-icon--right"}),e._v(" 上传文件\n  ")]),a("el-button",{staticStyle:{"margin-top":"10px"},attrs:{type:"primary"},on:{click:e.newFolder}},[a("i",{staticClass:"el-icon-folder-opened"}),e._v(" 新建文件夹\n  ")]),a("el-button",{staticStyle:{"margin-top":"10px"},attrs:{type:"primary"},on:{click:e.initObjectList}},[a("i",{staticClass:"el-icon-refresh"}),e._v(" 刷新\n  ")]),a("el-breadcrumb",{staticStyle:{"margin-bottom":"10px","margin-top":"20px"},attrs:{separator:"/"}},[a("el-breadcrumb-item",[a("el-link",{on:{click:e.clearGlobalObjectName}},[e._v("/")])],1),e._l(e.globalObjectNameArray,(function(t,n){return a("el-breadcrumb-item",{key:n},[a("el-link",{on:{click:function(a){return e.breadClick(n,t)}}},[e._v("\n        "+e._s(t)+"\n      ")])],1)}))],2),a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.tableData,"tooltip-effect":"dark"},on:{"selection-change":e.handleSelectionChange}},[a("el-table-column",{attrs:{type:"selection",width:"55"}}),a("el-table-column",{attrs:{width:"60"},scopedSlots:e._u([{key:"default",fn:function(t){return[1==t.row.isFolder?a("svg",{staticClass:"icon",attrs:{"aria-hidden":"true"}},[a("use",{attrs:{"xlink:href":"#el-icon-aliwenjianjia"}})]):e._e(),0==t.row.isFolder?a("svg",{staticClass:"icon",attrs:{"aria-hidden":"true"}},[a("use",{attrs:{href:e.mimeTypeMap[t.row.iconCode]}})]):e._e()]}}])}),a("el-table-column",{attrs:{label:"文件名",width:"250"},scopedSlots:e._u([{key:"default",fn:function(t){return[0==t.row.isFolder?a("el-link",[e._v(e._s(t.row.key)+"\n        ")]):e._e(),1==t.row.isFolder?a("el-link",{attrs:{disabled:0==t.row.isFolder,type:"primary"},on:{click:function(a){return e.objectClick(t.row)}}},[e._v(e._s(t.row.key)+"\n        ")]):e._e()]}}])}),a("el-table-column",{attrs:{prop:"size",label:"大小",width:"120"}}),a("el-table-column",{attrs:{prop:"lastModified",label:"最后修改时间","show-overflow-tooltip":""}}),a("el-table-column",{attrs:{label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[0==t.row.isFolder?a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(a){return e.handleDownload(t.row)}}},[e._v("\n          下载\n        ")]):e._e(),0==t.row.isFolder?a("el-button",{attrs:{size:"mini"},on:{click:function(a){return e.handleShare(t.row)}}},[e._v("分享\n        ")]):e._e(),a("el-button",{attrs:{size:"mini"},on:{click:function(a){return e.handleRename(t.row)}}},[e._v("重命名\n        ")]),a("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(a){return e.handleDelete(t.row)}}},[e._v("删除\n        ")])]}}])})],1),a("el-dialog",{attrs:{title:"文件上传",visible:e.dialogVisible,width:"50%"},on:{"update:visible":function(t){e.dialogVisible=t}}},[a("el-upload",{staticClass:"upload-demo",attrs:{drag:"","show-file-list":"",multiple:"","on-success":e.onSuccess,"on-error":e.onError,"before-upload":e.beforeUpload,action:"http://oss.smartsoftware.top",data:e.dataObj,"file-list":e.fileList}},[a("i",{staticClass:"el-icon-upload"}),a("div",{staticClass:"el-upload__text"},[e._v("将文件拖到此处，或"),a("em",[e._v("点击上传")])]),a("div",{staticClass:"el-upload__tip",attrs:{slot:"tip"},slot:"tip"},[e._v("只能上传不超过500mb的文件")])]),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.dialogVisible=!1}}},[e._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:e.dialogOk}},[e._v("确 定")])],1)],1),a("el-dialog",{attrs:{title:"分享",visible:e.shareDialogVisible,width:"30%"},on:{"update:visible":function(t){e.shareDialogVisible=t}}},[a("span",[e._v("为防止机密文件泄露，请设置下载链接到期时间，以小时为单位")]),a("div",[a("el-input-number",{attrs:{min:1,max:10,label:"链接到期时间"},model:{value:e.expirationHours,callback:function(t){e.expirationHours=t},expression:"expirationHours"}}),a("el-tag",[e._v("小时")])],1),a("el-input",{attrs:{readonly:!0,type:"textarea",autosize:"",placeholder:"生成的下载链接"},model:{value:e.shareUrl,callback:function(t){e.shareUrl=t},expression:"shareUrl"}}),a("div",{ref:"qrcode",attrs:{id:"qrcode"}}),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:e.makeShareUrl}},[e._v("生成链接")]),a("el-button",{attrs:{type:"primary"},on:{click:e.makeQrcode}},[e._v("生成二维码")]),a("el-button",{on:{click:function(t){e.shareDialogVisible=!1}}},[e._v("取 消")])],1)],1)],1)},i=[],l=(a("a450"),a("6a61"),a("2e91")),r=a("1f57"),s=a.n(r),o={name:"Oss",data:function(){return{shareUrl:"",expirationHours:1,mimeTypeMap:{0:"#el-icon-aliexe1",1:"#el-icon-alitxt",2:"#el-icon-aliXML",3:"#el-icon-alijavascript-map",4:"#el-icon-aliHTML",5:"#el-icon-aliCSS",6:"#el-icon-aliwendang",21:"#el-icon-alitupian",31:"#el-icon-alishipin",41:"#el-icon-aliyinle",51:"#el-icon-aliswf",61:"#el-icon-aliMicrosoft-Excel",62:"#el-icon-aliWORD",63:"#el-icon-aliPPT",64:"#el-icon-aliPDF",65:"#el-icon-aliyasuobao",66:"#el-icon-aliexe"},shareDialogVisible:!1,downloadUrl:"",globalObjectPath:"cloud/",globalObjectNameArray:[],fileList:[],dataObj:{policy:"",signature:"",key:"",ossaccessKeyId:"",dir:"",host:""},tableData:[],dialogVisible:!1,shareObjectName:""}},mounted:function(){this.initObjectList()},methods:{newFolder:function(){var e=this;this.$prompt("请输入文件夹名称，以/字符结尾。","提示",{confirmButtonText:"确定",cancelButtonText:"取消"}).then((function(t){var a=t.value;e.getRequest("/cloud/oss/newFolder",{newFolderName:e.globalObjectPath+a}).then((function(t){t&&e.$message({type:"success",message:"新建文件夹"+a+"成功"})})),e.initObjectList()}))},handleRename:function(e){var t=this;this.$prompt("请输入新命名，包括后缀名，不能以 / 或者 \\ 字符开头。","提示",{confirmButtonText:"确定",cancelButtonText:"取消"}).then((function(a){var n=a.value;t.getRequest("/cloud/oss/renameObject",{sourceObjectName:t.globalObjectPath+e.key,destinationObjectName:t.globalObjectPath+n}).then((function(e){e&&(t.$message({type:"success",message:"成功重命名为: "+n}),t.initObjectList())}))})).catch((function(){t.$message({type:"info",message:"取消输入"})}))},handleDelete:function(e){var t=this,a="";a=1==e.isFolder?"此操作将永久删除【"+e.key+"】文件夹下的所有文件, 是否继续?":"此操作将永久删除【"+e.key+"】, 是否继续?",this.$confirm(a,"提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){t.getRequest("/cloud/oss/deleteObject",{delObject:t.globalObjectPath+e.key}).then((function(e){e&&t.initObjectList()}))})).catch((function(){t.$message({type:"info",message:"已取消删除"})}))},handleSelectionChange:function(){},clearGlobalObjectName:function(){this.globalObjectNameArray=[],this.globalObjectPath="cloud/",this.initObjectList()},breadClick:function(e){var t=this.globalObjectNameArray.length;for(var a in this.globalObjectNameArray.splice(e+1,t-1),this.globalObjectPath="cloud/",this.globalObjectNameArray)this.globalObjectPath+=this.globalObjectNameArray[a]+"/";this.initObjectList()},objectClick:function(e){this.globalObjectNameArray.push(e.key.substring(0,e.key.length-1)),this.globalObjectPath+=e.key,this.initObjectList()},handleShare:function(e){this.shareUrl="",null!=this.qrcode&&(document.getElementById("qrcode").innerHTML=""),this.shareObjectName=e.key,this.shareDialogVisible=!0},makeShareUrl:function(){var e=Object(l["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.getSignUrl(this.shareObjectName,this.expirationHours);case 2:t=e.sent,this.shareUrl=t.obj;case 4:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),makeQrcode:function(){null!=this.qrcode&&(document.getElementById("qrcode").innerHTML=""),""==this.shareUrl?this.$message({message:"请先生成下载链接",type:"info"}):this.qrcode=new s.a("qrcode",{text:this.shareUrl,width:150,height:150})},handleDownload:function(){var e=Object(l["a"])(regeneratorRuntime.mark((function e(t){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.getSignUrl(this.globalObjectPath+t.key,8);case 2:a=e.sent,this.downloadUrl=a.obj,console.log(this.downloadUrl),window.open(this.downloadUrl),this.downloadUrl="",this.$message({message:"请求下载成功，正在下载中...",type:"success"});case 8:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),getSignUrl:function(e,t){var a=this;return new Promise((function(n,i){a.getRequest("/cloud/oss/signUrl",{objectName:e,expirationHours:t}).then((function(e){n(e)})).catch((function(e){i(e)}))}))},initObjectList:function(){var e=this;this.getRequest("/cloud/oss/getObjectList",{objectName:this.globalObjectPath}).then((function(t){t&&(e.tableData=t.obj)}))},onSuccess:function(e,t,a){this.$message({message:t.name+"上传成功",type:"success"}),this.initObjectList()},onError:function(e,t){this.$message({message:t.name+"上传失败,"+e,type:"error"})},dialogOk:function(){this.dialogVisible=!1,this.fileList=[]},beforeUpload:function(){var e=this,t=this;return new Promise((function(a,n){console.log(e.globalObjectPath),e.getRequest("/cloud/oss/policy",{dir:e.globalObjectPath}).then((function(n){console.log(n),t.dataObj.policy=n.obj.policy,t.dataObj.signature=n.obj.signature,t.dataObj.ossaccessKeyId=n.obj.accessKeyId,"cloud/"==e.globalObjectPath?t.dataObj.key="${filename}":t.dataObj.key=n.obj.dir+"/${filename}",t.dataObj.dir=n.obj.dir,t.dataObj.host=n.obj.host,a(!0)})).catch((function(e){console.log(e),n(!1)}))}))}}},c=o,u=(a("6afa"),a("5d22")),d=Object(u["a"])(c,n,i,!1,null,null,null);t["default"]=d.exports},fbac:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[e._v("\n    月末处理\n")])},i=[],l={name:"SalMonth"},r=l,s=a("5d22"),o=Object(s["a"])(r,n,i,!1,null,"9479f3f0",null);t["default"]=o.exports},feca:function(e,t,a){var n={"./Home.vue":"bb51","./HrInfo.vue":"92d8","./Login.vue":"a55b","./chat/FriendChat.vue":"8a18","./cloud/CloudOss.vue":"e81b","./cloud/CloudPrivate.vue":"61a8","./emp/EmpAdv.vue":"8759","./emp/EmpAtt.vue":"34f1","./emp/EmpBasic.vue":"58da","./emp/EmpLeave.vue":"6fb9","./per/PerEc.vue":"d9ac","./per/PerEval.vue":"7fe5","./per/PerMv.vue":"cfbb","./per/PerSalary.vue":"5a4a","./per/PerTrain.vue":"83ed","./sal/SalMonth.vue":"fbac","./sal/SalSearch.vue":"1937","./sal/SalSob.vue":"2bc5","./sal/SalSobCfg.vue":"6ac9","./sal/SalTable.vue":"21c7","./sta/StaAll.vue":"0aaf","./sta/StaPers.vue":"b419","./sta/StaRecord.vue":"a49a","./sta/StaScore.vue":"c1d3","./sys/SysBasic.vue":"8d67","./sys/SysCfg.vue":"1fe7","./sys/SysData.vue":"d1e3","./sys/SysHr.vue":"418a","./sys/SysInit.vue":"8608","./sys/SysLog.vue":"864e"};function i(e){var t=l(e);return a(t)}function l(e){if(!a.o(n,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return n[e]}i.keys=function(){return Object.keys(n)},i.resolve=l,e.exports=i,i.id="feca"}}]);
//# sourceMappingURL=chunk-da446eba.d2f34d4e.js.map